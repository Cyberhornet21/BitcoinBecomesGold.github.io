<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BTC LIFT â€” Price = Elevator</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Syne:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     RESET & FOUNDATION
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
  
  :root {
    --bg: #0a0a0b;
    --panel: #111114;
    --panel2: #18181e;
    --border: #2a2a35;
    --gold: #f5c518;
    --gold2: #e8a800;
    --red: #ff4444;
    --green: #00e676;
    --blue: #00b4ff;
    --text: #e8e8f0;
    --muted: #666680;
    --shaft-w: 160px;
    --transition: cubic-bezier(0.45, 0.05, 0.55, 0.95);
  }

  html { scroll-behavior: smooth; }

  body {
    font-family: 'Space Mono', monospace;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCANLINE OVERLAY
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0,0,0,0.07) 2px,
      rgba(0,0,0,0.07) 4px
    );
    pointer-events: none;
    z-index: 1000;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     TICKER BAR
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #ticker {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 36px;
    background: var(--gold);
    color: #000;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 15px;
    letter-spacing: 2px;
    display: flex;
    align-items: center;
    gap: 40px;
    padding: 0 20px;
    overflow: hidden;
    z-index: 999;
  }
  #ticker .ticker-inner {
    display: flex;
    gap: 60px;
    animation: ticker-scroll 30s linear infinite;
    white-space: nowrap;
  }
  @keyframes ticker-scroll {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     NAV
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  nav {
    position: fixed;
    top: 36px;
    left: 0; right: 0;
    height: 56px;
    background: rgba(10,10,11,0.92);
    backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 32px;
    z-index: 900;
  }
  .nav-logo {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 26px;
    color: var(--gold);
    letter-spacing: 3px;
  }
  .nav-logo span { color: var(--text); }
  .nav-links { display: flex; gap: 32px; }
  .nav-links a {
    color: var(--muted);
    text-decoration: none;
    font-size: 11px;
    letter-spacing: 2px;
    text-transform: uppercase;
    transition: color 0.2s;
  }
  .nav-links a:hover { color: var(--gold); }
  #live-badge {
    display: flex; align-items: center; gap: 8px;
    font-size: 11px; color: var(--green); letter-spacing: 2px;
  }
  #live-dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    background: var(--green);
    animation: pulse-dot 1.5s infinite;
  }
  @keyframes pulse-dot {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.4; transform: scale(0.6); }
  }
  #stale-badge {
    display: none;
    font-size: 10px;
    background: var(--red);
    color: #fff;
    padding: 2px 8px;
    border-radius: 3px;
    letter-spacing: 1px;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MAIN LAYOUT
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  main {
    padding-top: 92px;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     HERO SECTION
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #hero {
    min-height: calc(100vh - 92px);
    display: grid;
    grid-template-columns: 1fr var(--shaft-w) 1fr;
    grid-template-rows: 1fr;
    position: relative;
    overflow: hidden;
  }

  /* Left Panel â€“ Floor Info */
  .hero-left {
    grid-column: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 60px 48px 60px 64px;
    border-right: 1px solid var(--border);
  }
  .floor-label {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 11px;
    letter-spacing: 4px;
    color: var(--muted);
    margin-bottom: 8px;
  }
  .floor-name {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(48px, 6vw, 88px);
    line-height: 0.9;
    color: var(--gold);
    margin-bottom: 16px;
    text-shadow: 0 0 60px rgba(245,197,24,0.3);
  }
  .floor-desc {
    font-size: 13px;
    line-height: 1.7;
    color: var(--muted);
    max-width: 420px;
    margin-bottom: 32px;
    font-style: italic;
  }

  /* Price Display */
  .price-block {
    background: var(--panel);
    border: 1px solid var(--border);
    border-left: 3px solid var(--gold);
    padding: 20px 24px;
    margin-bottom: 24px;
    max-width: 400px;
  }
  .price-label { font-size: 10px; color: var(--muted); letter-spacing: 3px; margin-bottom: 6px; }
  .price-value {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 52px;
    color: var(--text);
    letter-spacing: 2px;
  }
  .price-value span { color: var(--gold); }
  .price-meta { font-size: 11px; color: var(--muted); margin-top: 4px; }
  .change-positive { color: var(--green); }
  .change-negative { color: var(--red); }

  /* Progress to next floor */
  .progress-section {
    max-width: 400px;
  }
  .progress-header {
    display: flex;
    justify-content: space-between;
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 2px;
    margin-bottom: 8px;
  }
  .progress-bar {
    height: 6px;
    background: var(--panel2);
    border: 1px solid var(--border);
    border-radius: 0;
    overflow: hidden;
    position: relative;
  }
  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--gold2), var(--gold));
    transition: width 1s ease;
    position: relative;
  }
  .progress-fill::after {
    content: '';
    position: absolute;
    right: 0; top: -2px;
    width: 2px; height: 10px;
    background: #fff;
    animation: progress-blink 1.2s infinite;
  }
  @keyframes progress-blink {
    0%, 100% { opacity: 1; } 50% { opacity: 0; }
  }
  .progress-sub {
    font-size: 10px;
    color: var(--muted);
    margin-top: 6px;
    letter-spacing: 1px;
  }

  /* Props */
  .props-row {
    display: flex;
    gap: 12px;
    margin-top: 24px;
    flex-wrap: wrap;
    max-width: 420px;
  }
  .prop-chip {
    background: var(--panel2);
    border: 1px solid var(--border);
    padding: 8px 14px;
    font-size: 13px;
    cursor: help;
    transition: all 0.2s;
    position: relative;
  }
  .prop-chip:hover {
    border-color: var(--gold);
    background: rgba(245,197,24,0.05);
    transform: translateY(-2px);
  }

  /* Right Panel â€“ Stats */
  .hero-right {
    grid-column: 3;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 60px 64px 60px 48px;
    border-left: 1px solid var(--border);
    gap: 20px;
  }
  .stat-card {
    background: var(--panel);
    border: 1px solid var(--border);
    padding: 16px 20px;
  }
  .stat-label { font-size: 10px; color: var(--muted); letter-spacing: 3px; margin-bottom: 6px; }
  .stat-value {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 28px;
    color: var(--text);
    letter-spacing: 1px;
  }
  .microcopy-box {
    background: var(--panel2);
    border: 1px solid var(--border);
    border-left: 2px solid var(--blue);
    padding: 12px 16px;
    font-size: 11px;
    line-height: 1.6;
    color: var(--muted);
    font-style: italic;
  }
  .microcopy-box span { color: var(--text); font-style: normal; }
  .share-btn {
    background: transparent;
    border: 1px solid var(--gold);
    color: var(--gold);
    font-family: 'Space Mono', monospace;
    font-size: 11px;
    letter-spacing: 2px;
    text-transform: uppercase;
    padding: 12px 20px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex; align-items: center; gap: 10px;
  }
  .share-btn:hover {
    background: var(--gold);
    color: #000;
  }
  #last-updated {
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 1px;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ELEVATOR SHAFT (center column)
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .shaft-container {
    grid-column: 2;
    grid-row: 1;
    position: relative;
    overflow: hidden;
    background: var(--panel);
    display: flex;
    flex-direction: column;
  }
  .shaft-top {
    height: 40px;
    background: linear-gradient(to bottom, var(--bg), var(--panel));
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 2px;
  }
  .shaft-inner {
    flex: 1;
    position: relative;
    overflow: hidden;
    /* The shaft shows floors from bottom (0) to top (max) */
  }
  
  /* Floor marks in shaft */
  .shaft-floors {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column-reverse; /* floor 0 at bottom */
  }
  .shaft-floor-mark {
    flex: 1;
    border-top: 1px solid var(--border);
    display: flex;
    align-items: center;
    padding-left: 8px;
    font-size: 9px;
    color: var(--border);
    letter-spacing: 1px;
    position: relative;
    transition: all 0.3s;
  }
  .shaft-floor-mark.active {
    background: rgba(245,197,24,0.04);
    border-top-color: var(--gold);
    color: var(--gold);
  }
  .shaft-floor-mark .floor-num {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 14px;
  }
  
  /* The elevator cabin */
  #elevator-cabin {
    position: absolute;
    left: 8px; right: 8px;
    height: 44px;
    background: var(--gold);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 20px;
    color: #000;
    letter-spacing: 2px;
    transition: bottom 0.8s var(--transition);
    z-index: 10;
    box-shadow: 0 0 30px rgba(245,197,24,0.5), 0 0 60px rgba(245,197,24,0.2);
  }
  #elevator-cabin.animating {
    box-shadow: 0 0 50px rgba(245,197,24,0.8), 0 0 100px rgba(245,197,24,0.4);
  }
  #elevator-cabin::before, #elevator-cabin::after {
    content: '';
    position: absolute;
    left: -2px; right: -2px;
    height: 3px;
    background: var(--gold2);
  }
  #elevator-cabin::before { top: 0; }
  #elevator-cabin::after { bottom: 0; }
  
  .shaft-bottom {
    height: 32px;
    border-top: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 9px;
    color: var(--muted);
    letter-spacing: 1px;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     HOW IT WORKS SECTION
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #how-it-works {
    padding: 80px 64px;
    border-top: 1px solid var(--border);
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 40px;
    align-items: start;
  }
  .how-header { grid-column: 1 / -1; margin-bottom: 0; }
  .section-eyebrow {
    font-size: 10px;
    color: var(--gold);
    letter-spacing: 4px;
    text-transform: uppercase;
    margin-bottom: 12px;
  }
  .section-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(36px, 4vw, 64px);
    line-height: 0.95;
    margin-bottom: 20px;
  }
  .how-card {
    background: var(--panel);
    border: 1px solid var(--border);
    padding: 28px;
    position: relative;
    overflow: hidden;
  }
  .how-card::before {
    content: attr(data-num);
    font-family: 'Bebas Neue', sans-serif;
    font-size: 120px;
    position: absolute;
    bottom: -20px; right: -8px;
    color: rgba(255,255,255,0.03);
    line-height: 1;
  }
  .how-card h3 {
    font-family: 'Syne', sans-serif;
    font-size: 16px;
    font-weight: 800;
    margin-bottom: 12px;
    color: var(--gold);
  }
  .how-card p { font-size: 12px; line-height: 1.8; color: var(--muted); }
  .formula {
    background: var(--bg);
    border: 1px solid var(--border);
    padding: 12px 16px;
    margin-top: 14px;
    font-size: 11px;
    color: var(--green);
    line-height: 1.8;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     FLOOR DIRECTORY
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #floor-directory {
    padding: 80px 64px;
    border-top: 1px solid var(--border);
  }
  .dir-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 16px;
    margin-top: 40px;
  }
  .dir-card {
    background: var(--panel);
    border: 1px solid var(--border);
    padding: 20px;
    cursor: pointer;
    transition: all 0.25s;
    position: relative;
    overflow: hidden;
  }
  .dir-card::after {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--floor-color, var(--gold));
    opacity: 0;
    transition: opacity 0.25s;
  }
  .dir-card:hover { border-color: var(--floor-color, var(--gold)); transform: translateY(-3px); }
  .dir-card:hover::after { opacity: 0.04; }
  .dir-card.current-floor { border-color: var(--gold); }
  .dir-card.current-floor .dir-badge {
    background: var(--gold);
    color: #000;
  }
  .dir-floor-num {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 48px;
    color: var(--border);
    line-height: 1;
    position: absolute;
    top: 12px; right: 16px;
  }
  .dir-badge {
    font-size: 9px;
    letter-spacing: 2px;
    background: var(--panel2);
    border: 1px solid var(--border);
    padding: 3px 8px;
    display: inline-block;
    margin-bottom: 10px;
    position: relative; z-index: 1;
  }
  .dir-name {
    font-family: 'Syne', sans-serif;
    font-size: 16px;
    font-weight: 800;
    margin-bottom: 6px;
    position: relative; z-index: 1;
  }
  .dir-range { font-size: 10px; color: var(--muted); letter-spacing: 1px; position: relative; z-index: 1; }
  .dir-props { margin-top: 10px; font-size: 12px; color: var(--muted); position: relative; z-index: 1; }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     EASTER EGG MODAL
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #egg-modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.85);
    z-index: 9999;
    display: none;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(8px);
  }
  #egg-modal.show { display: flex; }
  .egg-box {
    background: var(--panel);
    border: 1px solid var(--gold);
    max-width: 480px;
    width: 90%;
    padding: 40px;
    text-align: center;
    position: relative;
    animation: egg-pop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  @keyframes egg-pop {
    from { transform: scale(0.7); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }
  .egg-emoji { font-size: 64px; margin-bottom: 16px; }
  .egg-title {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 28px;
    color: var(--gold);
    margin-bottom: 12px;
    letter-spacing: 2px;
  }
  .egg-text { font-size: 13px; color: var(--muted); line-height: 1.7; }
  .egg-close {
    position: absolute;
    top: 12px; right: 16px;
    background: none;
    border: none;
    color: var(--muted);
    font-size: 20px;
    cursor: pointer;
  }
  .egg-close:hover { color: var(--text); }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     TOAST NOTIFICATION
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #toast {
    position: fixed;
    bottom: 24px; right: 24px;
    background: var(--gold);
    color: #000;
    font-size: 12px;
    letter-spacing: 1px;
    padding: 12px 20px;
    z-index: 8888;
    transform: translateY(80px);
    opacity: 0;
    transition: all 0.3s;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 15px;
  }
  #toast.show { transform: translateY(0); opacity: 1; }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     FLOOR CHANGE ANIMATION OVERLAY
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #floor-flash {
    position: fixed;
    inset: 0;
    background: var(--gold);
    z-index: 8000;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.15s;
  }
  #floor-flash.flash { opacity: 0.12; }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     FOOTER
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  footer {
    border-top: 1px solid var(--border);
    padding: 40px 64px;
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 40px;
    align-items: start;
  }
  .footer-logo {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 32px;
    color: var(--gold);
    letter-spacing: 3px;
    margin-bottom: 12px;
  }
  .footer-disc {
    font-size: 10px;
    color: var(--muted);
    line-height: 1.8;
    max-width: 600px;
    letter-spacing: 0.5px;
  }
  .footer-disc strong { color: var(--text); }
  .footer-right { text-align: right; }
  .data-source {
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 2px;
    margin-bottom: 4px;
  }
  .data-source span { color: var(--gold); }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     RESPONSIVE
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  @media (max-width: 900px) {
    #hero {
      grid-template-columns: 1fr;
      grid-template-rows: auto auto auto;
    }
    .shaft-container {
      grid-column: 1;
      grid-row: 1;
      height: 200px;
      flex-direction: row;
    }
    .hero-left, .hero-right {
      grid-column: 1;
      padding: 40px 24px;
      border: none;
      border-top: 1px solid var(--border);
    }
    .hero-right { grid-row: 3; }
    #how-it-works { grid-template-columns: 1fr; padding: 40px 24px; }
    .how-header { grid-column: 1; }
    #floor-directory { padding: 40px 24px; }
    footer { grid-template-columns: 1fr; padding: 40px 24px; }
    .footer-right { text-align: left; }
    nav { padding: 0 20px; }
    .nav-links { display: none; }
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     GLITCH ANIMATION for floor change
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  @keyframes glitch {
    0% { transform: translateX(0); filter: none; }
    10% { transform: translateX(-3px) skewX(2deg); filter: hue-rotate(90deg); }
    20% { transform: translateX(3px) skewX(-2deg); filter: hue-rotate(-90deg); }
    30% { transform: translateX(-2px); filter: none; }
    40% { transform: translateX(2px); filter: saturate(3); }
    50% { transform: translateX(0); filter: none; }
    100% { transform: translateX(0); filter: none; }
  }
  .glitch { animation: glitch 0.5s steps(1) forwards; }

  /* Extra details */
  .blink-slow { animation: blink-slow 3s infinite; }
  @keyframes blink-slow { 0%,100%{opacity:1} 50%{opacity:0.3} }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     DEBUG PANEL
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  #debug-panel {
    position: fixed;
    bottom: 0; left: 0; right: 0;
    max-height: 200px;
    overflow-y: auto;
    background: rgba(0,0,0,0.95);
    border-top: 2px solid var(--red);
    padding: 12px 16px;
    font-size: 10px;
    line-height: 1.6;
    color: #0f0;
    font-family: 'Courier New', monospace;
    z-index: 10000;
    display: none;
  }
  #debug-panel.show { display: block; }
  #debug-panel .log-line { margin-bottom: 4px; }
  #debug-panel .log-error { color: #ff4444; }
  #debug-panel .log-warn { color: #ff9800; }
  #debug-panel .log-success { color: #00e676; }
  #debug-toggle {
    position: fixed;
    bottom: 8px; right: 8px;
    background: var(--red);
    color: #fff;
    border: none;
    padding: 8px 12px;
    font-size: 10px;
    font-family: 'Space Mono', monospace;
    letter-spacing: 1px;
    cursor: pointer;
    z-index: 10001;
  }
  #debug-toggle:hover { background: #ff6666; }
</style>
</head>
<body>

<!-- TICKER -->
<div id="ticker">
  <div class="ticker-inner" id="ticker-inner">
    <!-- populated by JS -->
  </div>
</div>

<!-- NAV -->
<nav>
  <div class="nav-logo">BTC<span>LIFT</span></div>
  <div class="nav-links">
    <a href="#how-it-works">Logik</a>
    <a href="#floor-directory">Alle Etagen</a>
    <a href="#" onclick="triggerEasterEgg()">???</a>
  </div>
  <div style="display:flex;align-items:center;gap:16px;">
    <span id="stale-badge">STALE DATA</span>
    <div id="live-badge">
      <div id="live-dot"></div>
      LIVE
    </div>
  </div>
</nav>

<!-- FLOOR CHANGE FLASH -->
<div id="floor-flash"></div>

<!-- MAIN -->
<main>

  <!-- HERO -->
  <section id="hero">

    <!-- LEFT -->
    <div class="hero-left">
      <div class="floor-label">AKTUELL GEÃ–FFNET // FLOOR</div>
      <div class="floor-name" id="hero-floor-name">LADEâ€¦</div>
      <div class="floor-desc" id="hero-floor-desc"></div>

      <div class="price-block">
        <div class="price-label">BITCOIN IN EUR // CoinGecko</div>
        <div class="price-value">â‚¬<span id="hero-price">â€”â€”.â€”â€”â€”</span></div>
        <div class="price-meta">
          <span id="hero-change" class="change-positive">â€”%</span> &nbsp;Â·&nbsp;
          <span id="hero-floor-range">Floor â€” / Range â€”kâ€“â€”k</span>
        </div>
      </div>

      <div class="progress-section">
        <div class="progress-header">
          <span>FLOOR <span id="prog-current">â€”</span></span>
          <span id="prog-pct">â€”%</span>
          <span>FLOOR <span id="prog-next">â€”</span></span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill" style="width:0%"></div>
        </div>
        <div class="progress-sub">Noch <span id="prog-missing">â€”.â€”â€”â€”</span> â‚¬ bis Floor <span id="prog-next2">â€”</span></div>
      </div>

      <div class="props-row" id="props-row">
        <!-- populated by JS -->
      </div>
    </div>

    <!-- SHAFT -->
    <div class="shaft-container">
      <div class="shaft-top">SCHACHT</div>
      <div class="shaft-inner" id="shaft-inner">
        <div class="shaft-floors" id="shaft-floors">
          <!-- generated by JS -->
        </div>
        <div id="elevator-cabin">â–² BTC</div>
      </div>
      <div class="shaft-bottom">â–¼ GROUND</div>
    </div>

    <!-- RIGHT -->
    <div class="hero-right">
      <div class="stat-card">
        <div class="stat-label">FLOOR INDEX</div>
        <div class="stat-value" id="stat-floor">â€”</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">FLOOR RANGE</div>
        <div class="stat-value" id="stat-range">â€”k â€“ â€”k â‚¬</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">FORTSCHRITT</div>
        <div class="stat-value" id="stat-progress">â€”%</div>
      </div>

      <div class="microcopy-box" id="microcopy-1">
        <span>â€â€”"</span>
      </div>
      <div class="microcopy-box" id="microcopy-2">
        <span>â€”</span>
      </div>

      <button class="share-btn" onclick="shareFloor()">
        â†— FLOOR TEILEN
      </button>

      <div id="last-updated">LETZTES UPDATE: â€”</div>

      <div style="font-size:10px;color:var(--muted);letter-spacing:1px;margin-top:-8px;">
        Daten via <span style="color:var(--gold)">CoinGecko API</span>
      </div>
    </div>

  </section>

  <!-- HOW IT WORKS -->
  <section id="how-it-works">
    <div class="how-header">
      <div class="section-eyebrow">// MECHANIK</div>
      <div class="section-title">Wie<br>funktioniert<br>das Ding?</div>
    </div>

    <div class="how-card" data-num="01">
      <h3>01 â€” Der Bitcoin-Preis ist unser Aufzug</h3>
      <p>Der BTC-Preis in EUR wird von CoinMarketCap abgerufen. Jede 10.000-â‚¬-Schwelle entspricht einer Etage. Steigt der Preis Ã¼ber eine Schwelle, fÃ¤hrt der Lift hoch. FÃ¤llt er drunter, geht's abwÃ¤rts.</p>
      <div class="formula">
        floorIndex = Math.floor(price_eur / 10.000)<br>
        floorMin = floorIndex Ã— 10.000<br>
        floorMax = floorMin + 9.999
      </div>
    </div>

    <div class="how-card" data-num="02">
      <h3>02 â€” Jede Etage ist ein Universum</h3>
      <p>Keine Etage ist wie die andere. Jeder Floor hat einen eigenen absurden Namen, Deko-Props, Microcopy und ein verstecktes Easter Egg. Wer weiÃŸ was sich auf Floor 11 verbirgt?</p>
      <div class="formula">
        progress = (price - floorMin) / 10.000<br>
        â†’ 0.0 = gerade angekommen<br>
        â†’ 0.9999 = kurz vor der nÃ¤chsten Etage
      </div>
    </div>

    <div class="how-card" data-num="03">
      <h3>03 â€” Daten, Fallback & Frische</h3>
      <p>Daten kommen live von CoinMarketCap. Bei API-Ausfall greift LocalStorage-Cache. Ein â€STALE DATA"-Badge warnt bei veralteten Daten. Kein Kauf-/Verkaufshinweis. Nur Etagen.</p>
      <div class="formula">
        updateInterval = 60s<br>
        fallback = localStorage['btc_cache']<br>
        staleThreshold = 5min
      </div>
    </div>
  </section>

  <!-- FLOOR DIRECTORY -->
  <section id="floor-directory">
    <div class="section-eyebrow">// ETAGENVERZEICHNIS</div>
    <div class="section-title">Alle<br>Stockwerke</div>
    <div class="dir-grid" id="dir-grid">
      <!-- populated by JS -->
    </div>
  </section>

</main>

<!-- FOOTER -->
<footer>
  <div>
    <div class="footer-logo">BTCLIFT</div>
    <div class="footer-disc">
      <strong>Kein Finanzprodukt. Keine Anlageberatung. Keine Kaufempfehlung.</strong><br>
      BTC Lift ist ein reines Visualisierungsprojekt. Der Bitcoin-Preis bestimmt, auf welcher Etage sich der Aufzug befindet â€“ und das war's. Preise kÃ¶nnen in jede Richtung fahren, auch quer. Wir haften fÃ¼r nichts auÃŸer guter Laune und absurde Etagen-Namen.<br><br>
      KryptowÃ¤hrungen sind hochspekulativ und volatil. Bitte informiere dich eigenstÃ¤ndig und wende dich an lizenzierte Finanzberater fÃ¼r persÃ¶nliche Entscheidungen.
    </div>
  </div>
  <div class="footer-right">
    <div class="data-source">DATEN: <span>CoinGecko</span></div>
    <div class="data-source">UPDATE: <span>alle 60 Sek.</span></div>
    <div class="data-source" style="margin-top:12px;font-size:9px;">BTC LIFT Â© 2026</div>
  </div>
</footer>

<!-- EASTER EGG MODAL -->
<div id="egg-modal" onclick="closeEgg(event)">
  <div class="egg-box">
    <button class="egg-close" onclick="closeEggBtn()">âœ•</button>
    <div class="egg-emoji" id="egg-emoji">ğŸ¥š</div>
    <div class="egg-title" id="egg-title">EASTER EGG</div>
    <div class="egg-text" id="egg-text"></div>
  </div>
</div>

<!-- TOAST -->
<div id="toast"></div>

<!-- DEBUG PANEL -->
<button id="debug-toggle" onclick="toggleDebug()">ğŸ› DEBUG</button>
<div id="debug-panel" class="show"></div>

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FLOOR DATA â€” 12 Floors (0â€“11)
   Jeder Floor: name, desc, props[], microcopy[], easterEgg, color
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const FLOORS = [
  {
    index: 0,
    name: "PIZZAKELLER",
    desc: "Hier riecht's noch nach den Laszlo-Hanyecz-Pizzen von 2010. Die WÃ¤nde sind mit Bonbons tapeziert, die mal 100 BTC gekostet haben.",
    props: ["ğŸ• Laminierende Speisekarte (10.000 BTC/StÃ¼ck)", "ğŸ“Ÿ Nokia 3310 mit Bitcoin.org im WAP-Browser", "ğŸ•¯ï¸ Kerzen aus ungeÃ¶ffneten Genesis-Block-Ausdrucken"],
    microcopy: ["â€Willkommen im Erdgeschoss. Bitte kein SchÃ¼rfen am Tisch."", "â€Pizza-Bestellung kostet jetzt nur noch 0.00002 BTC. Fortschritt.""],
    easterEgg: { emoji: "ğŸ•", title: "PIZZA-EVENT", text: "Am 22. Mai 2010 kaufte Laszlo Hanyecz 2 Pizzen fÃ¼r 10.000 BTC. Heute wÃ¤ren das... naja. Du weiÃŸt es. Bon appÃ©tit." },
    color: "#ff6b35"
  },
  {
    index: 1,
    name: "ALTCOIN-FRIEDHOF",
    desc: "Hier stehen Grabsteine fÃ¼r Token, die mal â€das nÃ¤chste Bitcoin" waren. BitConnect hat den grÃ¶ÃŸten Grabstein. Und irgendwie lÃ¤uft noch immer ein SafeMoon-Bildschirmschoner.",
    props: ["âš°ï¸ Grabsteine: BitConnect, OneCoin, Luna (Classic)", "ğŸŒ• SafeMoon-Bildschirmschoner auf einem Commodore 64", "ğŸ“œ Gerahmte Whitepapers aus der ICO-Blase 2017"],
    microcopy: ["â€Ruh in Frieden, Luna. Du warst kurz sehr aufregend."", "â€Diese Etage enthÃ¤lt Spuren von Ponzi. Bitte HÃ¤nde waschen.""],
    easterEgg: { emoji: "âš°ï¸", title: "IN MEMORIAM", text: "Laut CoinGecko gibt es Ã¼ber 23.000 tote KryptowÃ¤hrungen. Die meisten hatten tolle Logos und Discord-Server. R.I.P., ihr kleinen TrÃ¤ume." },
    color: "#7c7c7c"
  },
  {
    index: 2,
    name: "INFLUENCER-LOUNGE",
    desc: "Ring-Lichter, Lambo-Poster und ein Sofa aus aufgestapelten Ledger-Nanos. Hier arbeiten Leute, die â€NFA" tweeten und trotzdem Portfolios managen.",
    props: ["ğŸ’¡ Ring-Licht mit Lamborghini-Hintergrundfolie", "ğŸ“± 17 iPhones im StÃ¤nder fÃ¼r simultanes \"to the moon\"-Posten", "ğŸ§¢ Merch-Regale mit Caps auf denen \"DIAMOND HANDS\" steht"],
    microcopy: ["â€DYOR. NFA. NGMI. Etc. Etc. â€“ Dein Lieblingsinfluencer"", "â€Dieser Raum wird gesponsert von keinem konkreten Projekt. Versprochen.""],
    easterEgg: { emoji: "ğŸ“±", title: "INFLUENCER-BINGO", text: "Siehst du ein: Moon-Emoji, Lamborghini-Referenz, NFA-Disclaimer, und \"generational wealth\" in einem einzigen Tweet? Herzlichen GlÃ¼ckwunsch â€“ du hast Influencer-Bingo!" },
    color: "#ff00aa"
  },
  {
    index: 3,
    name: "HODL-BIBLIOTHEK",
    desc: "Stille LesesÃ¤le voller BÃ¼cher, die alle dasselbe sagen: â€Nicht verkaufen." Unterschiedliche Cover, identischer Inhalt. Der Bibliothekar flÃ¼stert nur das Wort â€HODL".",
    props: ["ğŸ“š BÃ¼cher: 'HODL', 'Noch mehr HODL', 'HODL Forever', 'The Art of HODL'", "ğŸ¤« Schild: \"BITTE NICHT ÃœBER KURZE KERZEN SPRECHEN\"", "â° Uhr die nur vorwÃ¤rts lÃ¤uft und dabei Applaudiert"],
    microcopy: ["â€Leseausweis gilt auch in BÃ¤renmÃ¤rkten. Gilt besonders dann."", "â€Unsere Ã–ffnungszeiten: 24/7. Bitcoin schlÃ¤ft nicht. Wir auch nicht.""],
    easterEgg: { emoji: "ğŸ“š", title: "HODL-ETYMOLOGIE", text: "\"HODL\" entstand 2013 durch einen Tippfehler in einem Forum-Post ('I AM HODLING'). Der Autor war nach eigener Aussage betrunken. Es ist jetzt ein globales Finanzmantra." },
    color: "#4a90d9"
  },
  {
    index: 4,
    name: "NFT-GALERIE",
    desc: "WeiÃŸe WÃ¤nde, Mood-Lighting, und lauter JPEGs von gelangweilten Affen. Einige Bilder wurden fÃ¼r Millionen verkauft. Andere nicht. Optisch ist der Unterschied minimal.",
    props: ["ğŸ¦ Gerahmte Bored Apes (die billigeren aus dem OpenSea-Restbestand)", "ğŸ–¼ï¸ \"Unsichtbares NFT\" â€“ leere Wand mit Preisschild: 69 ETH", "ğŸ§¾ GasgebÃ¼hren-Quittungen als Kunst an der Decke"],
    microcopy: ["â€Kein Bild hier kann gespeichert werden. (AuÃŸer mit Rechtsklick.)"", "â€Das eigentliche Kunstwerk war die Wallet-Adresse, die wir unterwegs verloren.""],
    easterEgg: { emoji: "ğŸ–±ï¸", title: "RECHTSKLICK-MOMENT", text: "Du hast auf das NFT geklickt. Das Bild gehÃ¶rt dir jetzt spirituell. Rechtlich? Nein. Spirituell? Vielleicht. Herzlichen GlÃ¼ckwunsch zu deinem 0-ETH-Investment." },
    color: "#9b59b6"
  },
  {
    index: 5,
    name: "MINER-MASCHINENRAUM",
    desc: "Laut, heiÃŸ, und das perfekte Ambiente fÃ¼r ein GesprÃ¤ch Ã¼ber Stromrechnungen. ASICs wohin das Auge reicht. Der Ventilator ist der DJ dieses Floors.",
    props: ["â›ï¸ Wand aus gestapelten Antminer S19-Klonen", "ğŸ’¨ Industrie-Ventilator der \"NOISE\" als Kunstinstallation performt", "ğŸ“ˆ Stromrechnung im Bilderrahmen: Monatsrekord 847.320 kWh"],
    microcopy: ["â€Bitte setze OhrenschÃ¼tzer auf bevor du Ã¼ber Proof-of-Work nachdenken."", "â€Willkommen im wÃ¤rmsten Stockwerk. Der Espresso ist kostenlos, weil der Server eh schon kocht.""],
    easterEgg: { emoji: "âš¡", title: "STROM-FAKTEN", text: "Das Bitcoin-Netzwerk verbraucht ungefÃ¤hr so viel Strom wie Argentinien. DafÃ¼r bekommen Sie... dezentrale Finanzinfrastruktur. Und diese schÃ¶ne Etage." },
    color: "#f39c12"
  },
  {
    index: 6,
    name: "DEFI-DSCHUNGEL",
    desc: "Tropische Pflanzen, die 847% APY versprechen und sich nach 3 Wochen in WurzelgemÃ¼se verwandeln. Irgendwas wird hier gerade geforkt. Oder gehackt. Oder beides.",
    props: ["ğŸŒ´ Pflanzen mit Schildern: \"APY: 9999%\", \"TVL: Unklar\", \"Smart: Naja\"", "ğŸ¦† Enten-PlÃ¼schtiere (Tribute an DeFi-Hacks mit tierischen Namen)", "ğŸ”€ Schaltkreis-Labyrinth aus zusammengesteckten Lego-Blockchains"],
    microcopy: ["â€Bitte lesen Sie den Smart Contract bevor Sie alles hineinstecken. Wir meinen das ernst."", "â€Dieser Floor wurde heute dreimal geforkt und ist trotzdem irgendwie konsistent.""],
    easterEgg: { emoji: "ğŸ¦†", title: "DEFI-RUHMESHALLE DER SCHANDE", text: "Poly Network: $611M gestohlen (und zurÃ¼ckgegeben). BadgerDAO: $120M. Ronin: $625M. Der Hacker von Poly Network bekam anschlieÃŸend einen Job als Berater. DeFi ist ein interessanter Ort." },
    color: "#00b894"
  },
  {
    index: 7,
    name: "HALVING-SUITE",
    desc: "Alle 210.000 BlÃ¶cke wird die Belohnung halbiert. Dieser Raum feiert das mit einer Partydekoration, die ebenfalls alle 4 Jahre halbiert wird. Aktuell noch 12,5% Luftballons Ã¼brig.",
    props: ["ğŸˆ Luftballons (nur noch 12.5% der Originalmenge vorhanden)", "ğŸ“… Countdown-Uhr zum nÃ¤chsten Halving (in BlÃ¶cken, nicht Tagen)", "ğŸ† Pokal: \"Ãœberlebt alle Halvings seit 2012\""],
    microcopy: ["â€Vor dem Halving fragen alle ob der Preis steigt. Danach fragen alle ob sie frÃ¼h genug eingestiegen sind."", "â€Knappheit ist Kunst. Satoshi wusste das.""],
    easterEgg: { emoji: "ğŸ“…", title: "HALVING-KALENDER", text: "2012: 50â†’25 BTC/Block. 2016: 25â†’12.5. 2020: 12.5â†’6.25. 2024: 6.25â†’3.125. Das nÃ¤chste Halving 2028 bringt 1.5625 BTC/Block. Die Party-Dekoration wird entsprechend kleiner." },
    color: "#fd79a8"
  },
  {
    index: 8,
    name: "WHALE-AQUARIUM",
    desc: "Hier schwimmen die groÃŸen Fische. WandgroÃŸe Bildschirme zeigen Wallet-Transaktionen in Echtzeit. Eine Bewegung dieser Wale verÃ¤ndert dein Portfolio mehr als 10 Podcasts.",
    props: ["ğŸ‹ Riesiges Aquarium mit animierten BTC-Walen", "ğŸ“Š Echtzeit-Heatmap die \"Walbewegungen\" trackt (ernst gemeint)", "ğŸ’Œ \"Whale Alert\"-Benachrichtigungen auf Endlosschleife"],
    microcopy: ["â€Kein Tier wurde fÃ¼r diesen Floor geschÃ¤digt. Nur Portfolios."", "â€Ein Wal hustete gestern und XRP fiel um 12%. Zusammenhang unklar.""],
    easterEgg: { emoji: "ğŸ‹", title: "WHALE-WATCHING", text: "Laut On-Chain-Analysen halten ~2.000 Adressen Ã¼ber 40% aller Bitcoin. Zum Vergleich: Die Top 1% der US-BevÃ¶lkerung halten ~38% des AktienvermÃ¶gens. Whales gonna whale." },
    color: "#0984e3"
  },
  {
    index: 9,
    name: "INSTITUTIONELLE EMPFANGSHALLE",
    desc: "Marmorboden, gedÃ¤mpfte Musik, MicroStrategy-Portraits an der Wand. Hier kommen die AnzÃ¼ge. Sie sagen \"Store of Value\" und meinen damit das gleiche wie du â€“ aber mit mehr Nullen.",
    props: ["ğŸ›ï¸ Marmortafel: \"In Digital Assets We Trust\"", "ğŸ“‹ ETF-Antrag-Stapel (genehmigt, endlich, nach 7 Jahren)", "ğŸ–¼ï¸ Portrait: Michael Saylor mit Bitcoin-Heiligenschein"],
    microcopy: ["â€Willkommen, institutioneller Anleger. Bitte Anzug anlegen oder Hoodie ausziehen."", "â€Dieser Floor ist steuerpflichtig. Alle Floors sind steuerpflichtig. Viel SpaÃŸ.""],
    easterEgg: { emoji: "ğŸ’¼", title: "SAYLOR-QUOTE-GENERATOR", text: "\"Bitcoin ist die hÃ¤rteste Energie im Universum, digitalisiert und verteilt Ã¼ber ein dezentrales Netzwerk von GlÃ¤ubigen.\" â€“ Wahrscheinlich Michael Saylor, wahrscheinlich heute frÃ¼h." },
    color: "#636e72"
  },
  {
    index: 10,
    name: "MAKROÃ–KONOMIE-BALKON",
    desc: "Herrlicher Ausblick auf Inflation, Zinspolitik und Fed-Entscheidungen. Von hier oben sieht alles klein aus â€“ auÃŸer dem Schuldenberg. Der ist Ã¼berall gleich groÃŸ.",
    props: ["ğŸ”­ Fernrohr mit Aufkleber \"For Macro Watching Only\"", "ğŸ“° Wandzeitung: \"Fed hebt Zinsen. Alles fÃ¤llt. AuÃŸer BTC? Vielleicht.\"", "â˜• Kaffeemaschine mit Aufschrift \"Brauch ich nach jedem CPI-Report\""],
    microcopy: ["â€Inflation ist Diebstahl. Oder Geldpolitik. Oder beides. Experten uneinig."", "â€Von hier oben kann man den Unterschied zwischen M1 und M2 fast sehen.""],
    easterEgg: { emoji: "ğŸ“Š", title: "INFLATION VS. BITCOIN", text: "Seit 2020 hat der USD ~20% Kaufkraft verloren. Bitcoin in der gleichen Zeit: mal +1000%, mal -80%, mal wieder +500%. Statistisch gesehen: sehr volatil. Aber zumindest aufregend." },
    color: "#55efc4"
  },
  {
    index: 11,
    name: "HYPERBITCOINISIERUNG",
    desc: "Die finale Etage. Alles wird in Satoshis berechnet. Der Kaffee kostet 2.300 Sats. Der Eintritt war gratis, weil Sat-Gates noch nicht implementiert sind. Lightning blinkt.",
    props: ["âš¡ Lightning-Network-Visualisierung als Deckendeko", "â˜• Preisliste komplett in Satoshis (Cappuccino: 2.847 sats)", "ğŸŒ Weltkarte mit Bitcoin-Fullnode-Standorten (alle beleuchtet)"],
    microcopy: ["â€Herzlich willkommen auf dem Dach. Fiat ist hier Fremdwort."", "â€Dein Portemonnaie hat keine MÃ¼nzfÃ¤cher mehr. Nur noch eine Seed Phrase.""],
    easterEgg: { emoji: "âš¡", title: "SATOSHI-RECHNER", text: "1 Bitcoin = 100.000.000 Satoshis. Ein Kaffee fÃ¼r â‚¬3 kostet bei â‚¬90.000/BTC ca. 3.333 Satoshis. Lightning-Transaktionen: ~1ms. Traditionelle BankÃ¼berweisung: 2â€“5 Werktage. ğŸ¤”" },
    color: "#fdcb6e"
  }
];

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   STATE & LOGIC
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const TOTAL_VISIBLE_FLOORS = 12; // 0â€“11
let currentState = {
  price_eur: null,
  floorIndex: null,
  floorMin: null,
  floorMax: null,
  progress: null,
  change24h: null,
  lastUpdated: null,
  isStale: false
};

function computeFloor(price_eur) {
  const floorIndex = Math.floor(price_eur / 10000);
  const floorMin = floorIndex * 10000;
  const floorMax = floorMin + 9999;
  const progress = (price_eur - floorMin) / 10000;
  return { floorIndex, floorMin, floorMax, progress };
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DEBUG MODE â€” setzt auf true fÃ¼r ausfÃ¼hrliche Console-Logs
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const DEBUG = true; // <â€” auf false setzen fÃ¼r Production

const debugMessages = [];

function debugLog(...args) {
  const msg = args.map(a => typeof a === 'object' ? JSON.stringify(a) : String(a)).join(' ');
  debugMessages.push({ time: new Date().toLocaleTimeString(), msg, type: 'info' });
  if (debugMessages.length > 50) debugMessages.shift();
  updateDebugPanel();
  if (DEBUG) console.log('[BTC-LIFT]', ...args);
}

function debugError(...args) {
  const msg = args.map(a => typeof a === 'object' ? JSON.stringify(a) : String(a)).join(' ');
  debugMessages.push({ time: new Date().toLocaleTimeString(), msg, type: 'error' });
  if (debugMessages.length > 50) debugMessages.shift();
  updateDebugPanel();
  console.error('[BTC-LIFT ERROR]', ...args);
}

function debugSuccess(...args) {
  const msg = args.map(a => typeof a === 'object' ? JSON.stringify(a) : String(a)).join(' ');
  debugMessages.push({ time: new Date().toLocaleTimeString(), msg, type: 'success' });
  if (debugMessages.length > 50) debugMessages.shift();
  updateDebugPanel();
  if (DEBUG) console.log('[BTC-LIFT âœ“]', ...args);
}

function updateDebugPanel() {
  const panel = document.getElementById('debug-panel');
  if (!panel) return;
  panel.innerHTML = debugMessages.map(m => {
    const cls = m.type === 'error' ? 'log-error' : m.type === 'success' ? 'log-success' : '';
    return `<div class="log-line ${cls}">[${m.time}] ${m.msg}</div>`;
  }).reverse().join('');
  panel.scrollTop = 0;
}

function toggleDebug() {
  const panel = document.getElementById('debug-panel');
  panel.classList.toggle('show');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   API FETCH â€” CoinGecko (Demo API)
   
   WICHTIG: CoinGecko Demo API benÃ¶tigt seit 2024 einen API Key!
   
   So holst du dir einen (kostenlos):
   1. Geh zu https://www.coingecko.com/en/api
   2. Klick "Get Your Free API Key"
   3. Registriere dich (Email + Name)
   4. Kopiere deinen Demo API Key
   5. FÃ¼ge ihn unten bei COINGECKO_API_KEY ein
   
   OHNE KEY: Versucht erst ohne, fÃ¤llt dann zurÃ¼ck auf Cache
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const COINGECKO_API_KEY = ''; // <â€” FÃ¼ge hier deinen Demo API Key ein (optional aber empfohlen)

async function fetchBTCPrice() {
  debugLog('fetchBTCPrice() gestartet...');
  
  const BASE_URL = 'https://api.coingecko.com/api/v3/simple/price';
  const params = 'ids=bitcoin&vs_currencies=eur&include_24hr_change=true&include_last_updated_at=true';
  const url = `${BASE_URL}?${params}`;
  
  debugLog('URL:', url);
  debugLog('API Key gesetzt?', COINGECKO_API_KEY ? 'JA' : 'NEIN (versuche ohne)');

  // Headers vorbereiten (mit Key falls vorhanden)
  const headers = {
    'Accept': 'application/json'
  };
  if (COINGECKO_API_KEY) {
    headers['x-cg-demo-api-key'] = COINGECKO_API_KEY;
  }

  try {
    debugLog('Sende Fetch Request...');
    const response = await fetch(url, { headers });

    debugLog('Response Status:', response.status, response.statusText);

    if (!response.ok) {
      const errorText = await response.text();
      debugLog('ERROR Response Body:', errorText);
      throw new Error(`HTTP ${response.status}: ${errorText}`);
    }

    const json = await response.json();
    debugLog('Raw JSON Response:', json);

    // PrÃ¼fen ob bitcoin-Daten vorhanden
    if (!json.bitcoin) {
      throw new Error('Keine Bitcoin-Daten in Response! JSON: ' + JSON.stringify(json));
    }

    const btc = json.bitcoin;
    debugLog('Bitcoin Data:', btc);

    // Validierung
    if (typeof btc.eur !== 'number') {
      throw new Error('EUR Preis fehlt oder ist kein Number: ' + btc.eur);
    }

    const data = {
      price:             btc.eur,
      percent_change_24h: btc.eur_24h_change || 0,
      last_updated:      new Date((btc.last_updated_at || Date.now() / 1000) * 1000).toISOString()
    };

    debugLog('âœ“ Parsed Data:', data);

    // Cache speichern
    try {
      const cacheObj = { ...data, cachedAt: Date.now() };
      localStorage.setItem('btc_elevator_cache', JSON.stringify(cacheObj));
      debugLog('âœ“ Cache gespeichert:', cacheObj);
    } catch(e) {
      debugLog('âš  Cache speichern fehlgeschlagen:', e);
    }

    debugLog('âœ“ Fetch erfolgreich! Preis:', data.price, 'EUR');
    debugSuccess('API Call erfolgreich â€” Preis:', data.price, 'EUR');
    return { ...data, isStale: false };

  } catch (err) {
    debugError('CoinGecko Fetch FEHLER:', err.message);
    debugLog('Fehler Details:', err);

    // FALLBACK: LocalStorage-Cache
    debugLog('Versuche Cache zu laden...');
    try {
      const cached = JSON.parse(localStorage.getItem('btc_elevator_cache') || 'null');
      if (cached && cached.price) {
        const ageMin = ((Date.now() - cached.cachedAt) / 60000).toFixed(1);
        debugLog(`âœ“ Cache gefunden (${ageMin} min alt):`, cached);
        debugSuccess(`Cache geladen (${ageMin} min alt) â€” Preis: ${cached.price} EUR`);
        return { ...cached, isStale: true };
      } else {
        debugLog('Cache leer oder ungÃ¼ltig');
      }
    } catch(e) {
      debugLog('Cache-Lesen fehlgeschlagen:', e);
    }

    // Hard-Fallback (zeigt STALE-Badge)
    debugError('KEIN CACHE VERFÃœGBAR â€” Nutze Hard-Fallback');
    debugLog('Returning hard fallback data');
    return {
      price: 67000,
      percent_change_24h: 0,
      last_updated: new Date().toISOString(),
      isStale: true
    };
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   UI UPDATES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function formatPrice(n) {
  return n.toLocaleString('de-DE', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
}
function formatK(n) {
  return (n / 1000).toFixed(0) + 'k';
}

function getFloorData(idx) {
  return FLOORS[Math.min(idx, FLOORS.length - 1)] || FLOORS[FLOORS.length - 1];
}

let previousFloorIndex = null;

function updateUI(data) {
  const { price, percent_change_24h, last_updated, isStale } = data;
  const { floorIndex, floorMin, floorMax, progress } = computeFloor(price);

  // Save state
  currentState = { price_eur: price, floorIndex, floorMin, floorMax, progress, change24h: percent_change_24h, lastUpdated: last_updated, isStale };

  const floor = getFloorData(floorIndex);

  // Stale badge
  document.getElementById('stale-badge').style.display = isStale ? 'block' : 'none';

  // Hero
  document.getElementById('hero-floor-name').textContent = floor.name;
  document.getElementById('hero-floor-desc').textContent = floor.desc;
  document.getElementById('hero-price').textContent = formatPrice(price);

  const chEl = document.getElementById('hero-change');
  const changeStr = (percent_change_24h >= 0 ? '+' : '') + percent_change_24h.toFixed(2) + '% (24h)';
  chEl.textContent = changeStr;
  chEl.className = percent_change_24h >= 0 ? 'change-positive' : 'change-negative';

  document.getElementById('hero-floor-range').textContent = `Floor ${floorIndex} Â· ${formatK(floorMin)}â€“${formatK(floorMax)} â‚¬`;

  // Progress
  const pct = (progress * 100).toFixed(1);
  document.getElementById('prog-current').textContent = floorIndex;
  document.getElementById('prog-next').textContent = floorIndex + 1;
  document.getElementById('prog-next2').textContent = floorIndex + 1;
  document.getElementById('prog-pct').textContent = pct + '%';
  document.getElementById('progress-fill').style.width = pct + '%';
  const missing = (floorMax + 1) - price;
  document.getElementById('prog-missing').textContent = formatPrice(missing);

  // Props
  const propsRow = document.getElementById('props-row');
  propsRow.innerHTML = floor.props.map(p => `<div class="prop-chip" title="${p}" onclick="showEasterEgg(${floorIndex})">${p}</div>`).join('');

  // Right panel stats
  document.getElementById('stat-floor').textContent = floorIndex;
  document.getElementById('stat-range').textContent = `${formatK(floorMin)} â€“ ${formatK(floorMax)} â‚¬`;
  document.getElementById('stat-progress').textContent = pct + '%';

  document.getElementById('microcopy-1').innerHTML = `<span>â€${floor.microcopy[0]}"</span>`;
  document.getElementById('microcopy-2').innerHTML = `<span>${floor.microcopy[1]}</span>`;

  // Last updated
  const d = new Date(last_updated);
  document.getElementById('last-updated').textContent = `LETZTES UPDATE: ${d.toLocaleTimeString('de-DE')}`;

  // Shaft & Elevator
  updateShaft(floorIndex, progress);

  // Directory highlight
  document.querySelectorAll('.dir-card').forEach(c => {
    c.classList.toggle('current-floor', parseInt(c.dataset.floor) === floorIndex);
  });

  // Ticker
  updateTicker(price, percent_change_24h, floorIndex, floor.name);

  // Floor change animation
  if (previousFloorIndex !== null && previousFloorIndex !== floorIndex) {
    triggerFloorChange(previousFloorIndex, floorIndex);
  }
  previousFloorIndex = floorIndex;
}

function updateShaft(floorIndex, progress) {
  // Position elevator cabin
  // Shaft: shows floors 0 to TOTAL_VISIBLE_FLOORS-1
  const shaftInner = document.getElementById('shaft-inner');
  const shaftH = shaftInner.offsetHeight;
  const floorHeight = shaftH / TOTAL_VISIBLE_FLOORS;
  const cabinBottom = floorIndex * floorHeight + progress * floorHeight;
  const cabin = document.getElementById('elevator-cabin');
  cabin.style.bottom = Math.min(cabinBottom, shaftH - 44) + 'px';
  cabin.textContent = `F${floorIndex}`;

  // Update active floor mark
  document.querySelectorAll('.shaft-floor-mark').forEach(m => {
    m.classList.toggle('active', parseInt(m.dataset.floor) === floorIndex);
  });
}

function triggerFloorChange(from, to) {
  const diff = Math.abs(to - from);
  const flash = document.getElementById('floor-flash');
  const cabin = document.getElementById('elevator-cabin');

  cabin.classList.add('animating');
  
  if (diff >= 2) {
    // Multi-floor jump: rapid blink sequence
    let blinks = 0;
    const interval = setInterval(() => {
      flash.classList.toggle('flash');
      blinks++;
      if (blinks >= diff * 2) {
        clearInterval(interval);
        flash.classList.remove('flash');
      }
    }, 150);
    showToast(`ğŸš€ FLOOR GEWECHSELT: ${from} â†’ ${to} (+${diff} Stockwerke)`);
  } else {
    // Single floor change
    flash.classList.add('flash');
    setTimeout(() => flash.classList.remove('flash'), 300);
    showToast(`ğŸ›— ELEVATOR: Floor ${from} â†’ Floor ${to}`);
  }

  setTimeout(() => cabin.classList.remove('animating'), 1000);
}

function updateTicker(price, change, floorIdx, floorName) {
  const inner = document.getElementById('ticker-inner');
  const items = [
    `â‚¿ BTC/EUR: â‚¬${formatPrice(price)}`,
    `ğŸ“Š 24h: ${change >= 0 ? '+' : ''}${change.toFixed(2)}%`,
    `ğŸ›— AKTUELLER FLOOR: ${floorIdx} â€” ${floorName}`,
    `âš¡ NEXT FLOOR BEI: â‚¬${(Math.floor(price/10000)+1)*10000}`,
    `â‚¿ BTC/EUR: â‚¬${formatPrice(price)}`,
    `ğŸ“Š 24h: ${change >= 0 ? '+' : ''}${change.toFixed(2)}%`,
    `ğŸ›— FLOOR: ${floorIdx} â€” ${floorName}`,
    `âš¡ NEXT: â‚¬${(Math.floor(price/10000)+1)*10000}`,
  ];
  inner.innerHTML = items.map(i => `<span>${i}</span>`).join('');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BUILD SHAFT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function buildShaft() {
  const container = document.getElementById('shaft-floors');
  container.innerHTML = '';
  for (let i = TOTAL_VISIBLE_FLOORS - 1; i >= 0; i--) {
    const el = document.createElement('div');
    el.className = 'shaft-floor-mark';
    el.dataset.floor = i;
    el.innerHTML = `<span class="floor-num">${i}</span>`;
    container.appendChild(el);
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BUILD DIRECTORY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function buildDirectory() {
  const grid = document.getElementById('dir-grid');
  grid.innerHTML = FLOORS.slice().reverse().map(f => `
    <div class="dir-card" data-floor="${f.index}" style="--floor-color:${f.color}" onclick="showEasterEgg(${f.index})">
      <div class="dir-floor-num">${f.index}</div>
      <div class="dir-badge">FLOOR ${f.index}</div>
      <div class="dir-name">${f.name}</div>
      <div class="dir-range">${(f.index*10).toFixed(0)}k â€“ ${(f.index*10+9.999).toFixed(3)}k â‚¬</div>
      <div class="dir-props">${f.props[0]}</div>
    </div>
  `).join('');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   EASTER EGG
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function showEasterEgg(floorIdx) {
  const floor = getFloorData(floorIdx);
  const egg = floor.easterEgg;
  document.getElementById('egg-emoji').textContent = egg.emoji;
  document.getElementById('egg-title').textContent = egg.title;
  document.getElementById('egg-text').textContent = egg.text;
  document.getElementById('egg-modal').classList.add('show');
}

function triggerEasterEgg() {
  showEasterEgg(currentState.floorIndex || 0);
}

function closeEgg(e) {
  if (e.target === document.getElementById('egg-modal')) {
    document.getElementById('egg-modal').classList.remove('show');
  }
}
function closeEggBtn() {
  document.getElementById('egg-modal').classList.remove('show');
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SHARE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function shareFloor() {
  const floor = getFloorData(currentState.floorIndex);
  const text = `ğŸ›— Ich bin auf Floor ${currentState.floorIndex} des BTC Lifts: â€${floor.name}" (â‚¬${formatPrice(currentState.price_eur)}) #BTCLift #Bitcoin`;
  if (navigator.share) {
    navigator.share({ title: 'BTC Lift', text });
  } else {
    navigator.clipboard.writeText(text).then(() => showToast('ğŸ“‹ IN CLIPBOARD KOPIERT!'));
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TOAST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let toastTimer;
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  clearTimeout(toastTimer);
  toastTimer = setTimeout(() => t.classList.remove('show'), 3000);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   EXAMPLE CALCULATION (as requested)
   price_eur = 67.152 â‚¬
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function exampleCalculation() {
  const price_eur = 67152;
  const { floorIndex, floorMin, floorMax, progress } = computeFloor(price_eur);
  console.log('â•â•â• BEISPIELRECHNUNG â•â•â•');
  console.log(`Preis: â‚¬${price_eur.toLocaleString('de-DE')}`);
  console.log(`floorIndex: Math.floor(67152 / 10000) = ${floorIndex}`);
  console.log(`floorMin: ${floorIndex} Ã— 10.000 = â‚¬${floorMin.toLocaleString('de-DE')}`);
  console.log(`floorMax: ${floorMin} + 9.999 = â‚¬${floorMax.toLocaleString('de-DE')}`);
  console.log(`progress: (67.152 - 60.000) / 10.000 = ${progress.toFixed(4)} (${(progress*100).toFixed(2)}%)`);
  console.log(`Fehlend bis Floor 7: â‚¬${(70000 - price_eur).toLocaleString('de-DE')}`);
  console.log(`Etage: "${FLOORS[floorIndex].name}"`);
  console.log(`Beschreibung: ${FLOORS[floorIndex].desc}`);
  return { price_eur, floorIndex, floorMin, floorMax, progress: parseFloat(progress.toFixed(4)), floor: FLOORS[floorIndex] };
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   JSON OUTPUT (as requested in requirements)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function getJSONOutput() {
  const price_eur = 67152;
  const { floorIndex, floorMin, floorMax, progress } = computeFloor(price_eur);
  return {
    price_eur,
    floorIndex,
    floorMin,
    floorMax,
    progress: parseFloat(progress.toFixed(4)),
    last_updated: "2026-02-17T12:00:00Z",
    floors: FLOORS.map(f => ({
      index: f.index,
      name: f.name,
      desc: f.desc,
      props: f.props,
      microcopy: f.microcopy,
      easterEgg: f.easterEgg.text
    }))
  };
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INIT & POLLING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function init() {
  buildShaft();
  buildDirectory();

  const data = await fetchBTCPrice();
  updateUI(data);

  // Poll every 60 seconds
  setInterval(async () => {
    const fresh = await fetchBTCPrice();
    updateUI(fresh);
  }, 60000);
}

// Expose for console use
window.exampleCalculation = exampleCalculation;
window.getJSONOutput = getJSONOutput;
window.showEasterEgg = showEasterEgg;
window.shareFloor = shareFloor;
window.closeEgg = closeEgg;
window.closeEggBtn = closeEggBtn;
window.triggerEasterEgg = triggerEasterEgg;
window.toggleDebug = toggleDebug;

// Start
document.addEventListener('DOMContentLoaded', () => {
  debugLog('ğŸ›— BTC LIFT startet...');
  debugLog('DEBUG MODE:', DEBUG ? 'AKTIV' : 'INAKTIV');
  debugLog('CoinGecko API Key gesetzt?', COINGECKO_API_KEY ? 'JA' : 'NEIN');
  init();
});

console.log('%cğŸ›— BTC LIFT', 'font-size:24px;font-weight:bold;color:#f5c518');
console.log('%cTipp: Ruf exampleCalculation() oder getJSONOutput() auf!', 'color:#888');
console.log('%cDebug Panel: Klick unten rechts auf ğŸ› DEBUG', 'color:#ff4444');
</script>
</body>
</html>
